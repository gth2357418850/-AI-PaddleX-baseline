# [AIè®­ç»ƒè¥]PaddleXå®ç°è·¯éšœæ£€æµ‹

æ‰‹æŠŠæ‰‹æ•™ä½ åŸºäºPaddleXå®ç°ç›®æ ‡æ£€æµ‹ã€‚ä½ éœ€è¦å®ç°ä»¥ä¸‹ä»»åŠ¡ï¼š

> 1. é…ç½®æ•°æ®é›†ï¼ˆæ•°æ®é›†é€‰æ‹©ã€æ•°æ®å¤„ç†ï¼‰
> 2. é…ç½®æ¨¡å‹å¹¶è®­ç»ƒ
> 3. é¡¹ç›®è·‘é€šå³å¯è¾¾åˆ°ç»“ä¸šè¦æ±‚

# ä¸€ã€æ•°æ®é›†è¯´æ˜

æœ¬é¡¹ç›®ä½¿ç”¨çš„æ•°æ®é›†æ˜¯ï¼š[[AIè®­ç»ƒè¥]ç›®æ ‡æ£€æµ‹æ•°æ®é›†åˆé›†](https://aistudio.baidu.com/aistudio/datasetdetail/103743)ï¼ŒåŒ…å«å£ç½©è¯†åˆ« ã€äº¤é€šæ ‡å¿—è¯†åˆ«ã€ç«ç„°æ£€æµ‹ã€é”¥æ¡¶è¯†åˆ«ä»¥åŠä¸­ç§‹å…ƒç´ è¯†åˆ«ã€‚

è¯¥æ•°æ®é›†å·²åŠ è½½è‡³æœ¬ç¯å¢ƒä¸­ï¼Œä½äºï¼š**data/data103743/objDataset.zip**


```python
# è§£å‹æ•°æ®é›†ï¼ˆè§£å‹ä¸€æ¬¡å³å¯ï¼Œè¯·å‹¿é‡å¤è§£å‹ï¼‰
!unzip -oq /home/aistudio/data/data103743/objDataset.zip
```

è§£å‹å®Œæˆåï¼Œå·¦ä¾§æ–‡ä»¶å¤¹å¤„ä¼šå¤šä¸€ä¸ªåä¸º**objDataset**çš„æ–‡ä»¶å¤¹ï¼Œè¯¥æ–‡ä»¶å¤¹ä¸‹æœ‰5ä¸ªå­æ–‡ä»¶å¤¹ï¼š
- **barricade**â€”â€”Gazeboé”¥æ¡¶æ£€æµ‹
- **facemask**â€”â€”å£ç½©æ£€æµ‹
- **fire**â€”â€”ç«ç„°æ£€æµ‹
- **MidAutumn**â€”â€”ä¸­ç§‹å…ƒç´ æ£€æµ‹
- **roadsign_voc**â€”â€”äº¤é€šè·¯æ ‡æ£€æµ‹

æ¯ä¸ªå­æ–‡ä»¶å¤¹ä¸‹æœ‰2ä¸ªæ–‡ä»¶å¤¹ï¼Œåˆ†åˆ«å­˜æ”¾ç€å›¾åƒï¼ˆ**JPEGImages**ï¼‰å’Œæ ‡æ³¨æ–‡ä»¶ï¼ˆ**Annotations**ï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š


```python
# æŸ¥çœ‹æ•°æ®é›†æ–‡ä»¶ç»“æ„
!tree objDataset -L 2
```

    objDataset
    â”œâ”€â”€ barricade
    â”‚Â Â  â”œâ”€â”€ Annotations
    â”‚Â Â  â””â”€â”€ JPEGImages
    â”œâ”€â”€ facemask
    â”‚Â Â  â”œâ”€â”€ Annotations
    â”‚Â Â  â””â”€â”€ JPEGImages
    â”œâ”€â”€ fire
    â”‚Â Â  â”œâ”€â”€ Annotations
    â”‚Â Â  â””â”€â”€ JPEGImages
    â”œâ”€â”€ MidAutumn
    â”‚Â Â  â”œâ”€â”€ Annotations
    â”‚Â Â  â””â”€â”€ JPEGImages
    â””â”€â”€ roadsign_voc
        â”œâ”€â”€ Annotations
        â””â”€â”€ JPEGImages
    
    15 directories, 0 files


# äºŒã€æ•°æ®å‡†å¤‡

æœ¬åŸºçº¿ç³»ç»Ÿä½¿ç”¨çš„æ•°æ®æ ¼å¼æ˜¯PascalVOCæ ¼å¼ï¼Œå¼€å‘è€…åŸºäºPaddleXå¼€å‘ç›®æ ‡æ£€æµ‹æ¨¡å‹æ—¶ï¼Œæ— éœ€å¯¹æ•°æ®æ ¼å¼è¿›è¡Œè½¬æ¢ï¼Œå¼€ç®±å³ç”¨ã€‚

ä½†ä¸ºäº†è¿›è¡Œè®­ç»ƒï¼Œè¿˜éœ€è¦å°†æ•°æ®åˆ’åˆ†ä¸ºè®­ç»ƒé›†ã€éªŒè¯é›†å’Œæµ‹è¯•é›†ã€‚åˆ’åˆ†ä¹‹å‰é¦–å…ˆéœ€è¦**å®‰è£…PaddleX**ã€‚


```python
# å®‰è£…PaddleX
!pip install paddlex
```

    Looking in indexes: https://mirror.baidu.com/pypi/simple/
    Requirement already satisfied: paddlex in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (1.3.11)
    Requirement already satisfied: flask-cors in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlex) (3.0.8)
    Requirement already satisfied: paddleslim==1.1.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlex) (1.1.1)
    Requirement already satisfied: shapely>=1.7.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlex) (1.7.1)
    Requirement already satisfied: pyyaml in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlex) (5.1.2)
    Requirement already satisfied: psutil in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlex) (5.7.2)
    Requirement already satisfied: paddlehub==2.1.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlex) (2.1.0)
    Requirement already satisfied: pycocotools; platform_system != "Windows" in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlex) (2.0.2)
    Requirement already satisfied: colorama in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlex) (0.4.4)
    Requirement already satisfied: tqdm in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlex) (4.36.1)
    Requirement already satisfied: visualdl>=2.0.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlex) (2.2.0)
    Requirement already satisfied: opencv-python in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlex) (4.1.1.26)
    Requirement already satisfied: xlwt in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlex) (1.3.0)
    Requirement already satisfied: sklearn in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlex) (0.0)
    Requirement already satisfied: Six in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from flask-cors->paddlex) (1.15.0)
    Requirement already satisfied: Flask>=0.9 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from flask-cors->paddlex) (1.1.1)
    Requirement already satisfied: pyzmq in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddleslim==1.1.1->paddlex) (18.1.1)
    Requirement already satisfied: filelock in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlehub==2.1.0->paddlex) (3.0.12)
    Requirement already satisfied: rarfile in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlehub==2.1.0->paddlex) (3.1)
    Requirement already satisfied: easydict in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlehub==2.1.0->paddlex) (1.9)
    Requirement already satisfied: colorlog in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlehub==2.1.0->paddlex) (4.1.0)
    Requirement already satisfied: packaging in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlehub==2.1.0->paddlex) (20.9)
    Requirement already satisfied: numpy in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlehub==2.1.0->paddlex) (1.20.3)
    Requirement already satisfied: gunicorn>=19.10.0; sys_platform != "win32" in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlehub==2.1.0->paddlex) (20.0.4)
    Requirement already satisfied: paddlenlp>=2.0.0rc5 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlehub==2.1.0->paddlex) (2.0.7)
    Requirement already satisfied: paddle2onnx>=0.5.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlehub==2.1.0->paddlex) (0.7)
    Requirement already satisfied: gitpython in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlehub==2.1.0->paddlex) (3.1.14)
    Requirement already satisfied: matplotlib in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlehub==2.1.0->paddlex) (2.2.3)
    Requirement already satisfied: Pillow in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlehub==2.1.0->paddlex) (7.1.2)
    Requirement already satisfied: cython>=0.27.3 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from pycocotools; platform_system != "Windows"->paddlex) (0.29)
    Requirement already satisfied: setuptools>=18.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from pycocotools; platform_system != "Windows"->paddlex) (56.2.0)
    Requirement already satisfied: pre-commit in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from visualdl>=2.0.0->paddlex) (1.21.0)
    Requirement already satisfied: bce-python-sdk in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from visualdl>=2.0.0->paddlex) (0.8.53)
    Requirement already satisfied: requests in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from visualdl>=2.0.0->paddlex) (2.22.0)
    Requirement already satisfied: protobuf>=3.11.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from visualdl>=2.0.0->paddlex) (3.14.0)
    Requirement already satisfied: shellcheck-py in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from visualdl>=2.0.0->paddlex) (0.7.1.1)
    Requirement already satisfied: Flask-Babel>=1.0.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from visualdl>=2.0.0->paddlex) (1.0.0)
    Requirement already satisfied: flake8>=3.7.9 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from visualdl>=2.0.0->paddlex) (3.8.2)
    Requirement already satisfied: pandas in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from visualdl>=2.0.0->paddlex) (1.1.5)
    Requirement already satisfied: scikit-learn in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from sklearn->paddlex) (0.24.2)
    Requirement already satisfied: Werkzeug>=0.15 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from Flask>=0.9->flask-cors->paddlex) (0.16.0)
    Requirement already satisfied: itsdangerous>=0.24 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from Flask>=0.9->flask-cors->paddlex) (1.1.0)
    Requirement already satisfied: click>=5.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from Flask>=0.9->flask-cors->paddlex) (7.0)
    Requirement already satisfied: Jinja2>=2.10.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from Flask>=0.9->flask-cors->paddlex) (2.10.1)
    Requirement already satisfied: pyparsing>=2.0.2 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from packaging->paddlehub==2.1.0->paddlex) (2.4.2)
    Requirement already satisfied: multiprocess in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0->paddlex) (0.70.11.1)
    Requirement already satisfied: seqeval in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0->paddlex) (1.2.2)
    Requirement already satisfied: jieba in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0->paddlex) (0.42.1)
    Requirement already satisfied: h5py in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0->paddlex) (2.9.0)
    Requirement already satisfied: gitdb<5,>=4.0.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from gitpython->paddlehub==2.1.0->paddlex) (4.0.5)
    Requirement already satisfied: cycler>=0.10 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from matplotlib->paddlehub==2.1.0->paddlex) (0.10.0)
    Requirement already satisfied: kiwisolver>=1.0.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from matplotlib->paddlehub==2.1.0->paddlex) (1.1.0)
    Requirement already satisfied: pytz in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from matplotlib->paddlehub==2.1.0->paddlex) (2019.3)
    Requirement already satisfied: python-dateutil>=2.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from matplotlib->paddlehub==2.1.0->paddlex) (2.8.0)
    Requirement already satisfied: nodeenv>=0.11.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from pre-commit->visualdl>=2.0.0->paddlex) (1.3.4)
    Requirement already satisfied: virtualenv>=15.2 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from pre-commit->visualdl>=2.0.0->paddlex) (16.7.9)
    Requirement already satisfied: identify>=1.0.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from pre-commit->visualdl>=2.0.0->paddlex) (1.4.10)
    Requirement already satisfied: toml in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from pre-commit->visualdl>=2.0.0->paddlex) (0.10.0)
    Requirement already satisfied: importlib-metadata; python_version < "3.8" in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from pre-commit->visualdl>=2.0.0->paddlex) (0.23)
    Requirement already satisfied: cfgv>=2.0.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from pre-commit->visualdl>=2.0.0->paddlex) (2.0.1)
    Requirement already satisfied: aspy.yaml in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from pre-commit->visualdl>=2.0.0->paddlex) (1.3.0)
    Requirement already satisfied: pycryptodome>=3.8.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from bce-python-sdk->visualdl>=2.0.0->paddlex) (3.9.9)
    Requirement already satisfied: future>=0.6.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from bce-python-sdk->visualdl>=2.0.0->paddlex) (0.18.0)
    Requirement already satisfied: certifi>=2017.4.17 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from requests->visualdl>=2.0.0->paddlex) (2019.9.11)
    Requirement already satisfied: idna<2.9,>=2.5 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from requests->visualdl>=2.0.0->paddlex) (2.8)
    Requirement already satisfied: chardet<3.1.0,>=3.0.2 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from requests->visualdl>=2.0.0->paddlex) (3.0.4)
    Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from requests->visualdl>=2.0.0->paddlex) (1.25.6)
    Requirement already satisfied: Babel>=2.3 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from Flask-Babel>=1.0.0->visualdl>=2.0.0->paddlex) (2.8.0)
    Requirement already satisfied: pyflakes<2.3.0,>=2.2.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from flake8>=3.7.9->visualdl>=2.0.0->paddlex) (2.2.0)
    Requirement already satisfied: mccabe<0.7.0,>=0.6.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from flake8>=3.7.9->visualdl>=2.0.0->paddlex) (0.6.1)
    Requirement already satisfied: pycodestyle<2.7.0,>=2.6.0a1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from flake8>=3.7.9->visualdl>=2.0.0->paddlex) (2.6.0)
    Requirement already satisfied: threadpoolctl>=2.0.0 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from scikit-learn->sklearn->paddlex) (2.1.0)
    Requirement already satisfied: scipy>=0.19.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from scikit-learn->sklearn->paddlex) (1.6.3)
    Requirement already satisfied: joblib>=0.11 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from scikit-learn->sklearn->paddlex) (0.14.1)
    Requirement already satisfied: MarkupSafe>=0.23 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from Jinja2>=2.10.1->Flask>=0.9->flask-cors->paddlex) (1.1.1)
    Requirement already satisfied: dill>=0.3.3 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from multiprocess->paddlenlp>=2.0.0rc5->paddlehub==2.1.0->paddlex) (0.3.3)
    Requirement already satisfied: smmap<4,>=3.0.1 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from gitdb<5,>=4.0.1->gitpython->paddlehub==2.1.0->paddlex) (3.0.5)
    Requirement already satisfied: zipp>=0.5 in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from importlib-metadata; python_version < "3.8"->pre-commit->visualdl>=2.0.0->paddlex) (0.6.0)
    Requirement already satisfied: more-itertools in /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages (from zipp>=0.5->importlib-metadata; python_version < "3.8"->pre-commit->visualdl>=2.0.0->paddlex) (7.2.0)


ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å³å¯å°†æ•°æ®åˆ’åˆ†ä¸º70%è®­ç»ƒé›†ï¼Œ20%éªŒè¯é›†å’Œ10%çš„æµ‹è¯•é›†ã€‚


```python
# åˆ’åˆ†æ•°æ®é›†
!paddlex --split_dataset --format VOC --dataset_dir objDataset/barricade --val_value 0.2 --test_value 0.1
```

    Dataset Split Done.[0m
    [0mTrain samples: 364[0m
    [0mEval samples: 104[0m
    [0mTest samples: 52[0m
    [0mSplit files saved in objDataset/barricade[0m
    [0m[0m

åˆ’åˆ†å®Œæˆåï¼Œè¯¥æ•°æ®é›†ä¸‹ä¼šç”Ÿæˆ**labels.txt**, **train_list.txt**, **val_list.txt**å’Œ**test_list.txt**ï¼Œåˆ†åˆ«å­˜å‚¨ç±»åˆ«ä¿¡æ¯ï¼Œè®­ç»ƒæ ·æœ¬åˆ—è¡¨ï¼ŒéªŒè¯æ ·æœ¬åˆ—è¡¨ï¼Œæµ‹è¯•æ ·æœ¬åˆ—è¡¨ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](https://ai-studio-static-online.cdn.bcebos.com/d29a92b4cfc34b0097ef46dbbc8562af824387889f224948ae49283e0adee19d)

åœ¨è¿™é‡Œï¼Œ**ä½ éœ€è¦å°†path to datasetéƒ¨åˆ†æ›¿æ¢æˆä½ é€‰æ‹©çš„æ•°æ®é›†è·¯å¾„**ã€‚åœ¨å·¦ä¾§æ–‡ä»¶å¤¹å¤„ï¼Œå°†é¼ æ ‡æ”¾åˆ°ä½ æƒ³é€‰æ‹©çš„æ•°æ®é›†æ–‡ä»¶å¤¹ä¸Šï¼Œä¼šå‡ºç°ä¸‰ä¸ªå›¾æ ‡ï¼Œç¬¬ä¸€ä¸ªå›¾æ ‡è¡¨ç¤ºå¤åˆ¶è¯¥æ–‡ä»¶å¤¹è·¯å¾„ï¼Œç‚¹å‡»å³å¯è·å¾—è¯¥æ–‡ä»¶å¤¹è·¯å¾„ï¼Œç”¨è¿™ä¸ªè·¯å¾„æ›¿æ¢path to datasetå³å¯ã€‚

![](https://ai-studio-static-online.cdn.bcebos.com/c28ed88586644f64b34709a592fea0b97ec80470c0e041fd9aa6b8da21c8e283)


# ä¸‰ã€æ•°æ®é¢„å¤„ç†

åœ¨è®­ç»ƒæ¨¡å‹ä¹‹å‰ï¼Œå¯¹ç›®æ ‡æ£€æµ‹ä»»åŠ¡çš„æ•°æ®è¿›è¡Œæ“ä½œï¼Œä»è€Œæå‡æ¨¡å‹æ•ˆæœã€‚å¯ç”¨äºæ•°æ®å¤„ç†çš„APIæœ‰ï¼š
- **Normalize**ï¼šå¯¹å›¾åƒè¿›è¡Œå½’ä¸€åŒ–
- **ResizeByShort**ï¼šæ ¹æ®å›¾åƒçš„çŸ­è¾¹è°ƒæ•´å›¾åƒå¤§å°
- **RandomHorizontalFlip**ï¼šä»¥ä¸€å®šçš„æ¦‚ç‡å¯¹å›¾åƒè¿›è¡Œéšæœºæ°´å¹³ç¿»è½¬
- **RandomDistort**ï¼šä»¥ä¸€å®šçš„æ¦‚ç‡å¯¹å›¾åƒè¿›è¡Œéšæœºåƒç´ å†…å®¹å˜æ¢

æ›´å¤šå…³äºæ•°æ®å¤„ç†çš„APIåŠä½¿ç”¨è¯´æ˜å¯æŸ¥çœ‹æ–‡æ¡£ï¼š
[https://paddlex.readthedocs.io/zh_CN/release-1.3/apis/transforms/det_transforms.html](https://paddlex.readthedocs.io/zh_CN/release-1.3/apis/transforms/det_transforms.html)


```python
from paddlex.det import transforms

import matplotlib
matplotlib.use('Agg') 
import os
os.environ['CUDA_VISIBLE_DEVICES'] = '0'

# å®šä¹‰è®­ç»ƒå’ŒéªŒè¯æ—¶çš„transforms
# APIè¯´æ˜ https://paddlex.readthedocs.io/zh_CN/develop/apis/transforms/det_transforms.html
train_transforms = transforms.Compose([
     transforms.MixupImage(mixup_epoch=250),
    transforms.RandomDistort(),
    transforms.RandomExpand(),
    transforms.RandomCrop(),
    transforms.Resize(
        target_size=608, interp='RANDOM'),
    transforms.RandomHorizontalFlip(),
    transforms.Normalize(),
])

eval_transforms = transforms.Compose([
    transforms.Resize(
    target_size=608, interp='CUBIC'),
    transforms.Normalize(),
])
```

    /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/__init__.py:107: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working
      from collections import MutableMapping
    /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/rcsetup.py:20: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working
      from collections import Iterable, Mapping
    /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/colors.py:53: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working
      from collections import Sized


è¯»å–PascalVOCæ ¼å¼çš„æ£€æµ‹æ•°æ®é›†ï¼Œå¹¶å¯¹æ ·æœ¬è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚


```python
import paddlex as pdx

# å®šä¹‰è®­ç»ƒå’ŒéªŒè¯æ‰€ç”¨çš„æ•°æ®é›†
# APIè¯´æ˜ï¼šhttps://paddlex.readthedocs.io/zh_CN/develop/apis/datasets.html#paddlex-datasets-vocdetection
train_dataset = pdx.datasets.VOCDetection(
    data_dir='objDataset/barricade',
    file_list='objDataset/barricade/train_list.txt',
    label_list='objDataset/barricade/labels.txt',
    transforms=train_transforms,
    shuffle=True)

eval_dataset = pdx.datasets.VOCDetection(
    data_dir='objDataset/barricade',
    file_list='objDataset/barricade/val_list.txt',
    label_list='objDataset/barricade/labels.txt',
    transforms=eval_transforms)
```

    2021-08-12 16:15:07 [INFO]	Starting to read file list from dataset...
    2021-08-12 16:15:07 [INFO]	364 samples in file objDataset/barricade/train_list.txt
    creating index...
    index created!
    2021-08-12 16:15:07 [INFO]	Starting to read file list from dataset...
    2021-08-12 16:15:07 [INFO]	104 samples in file objDataset/barricade/val_list.txt
    creating index...
    index created!


éœ€è¦æ³¨æ„çš„æ˜¯ï¼š
- **data_dir** (str): æ•°æ®é›†æ‰€åœ¨çš„ç›®å½•è·¯å¾„ã€‚
- **file_list** (str): æè¿°æ•°æ®é›†å›¾ç‰‡æ–‡ä»¶å’Œå¯¹åº”æ ‡æ³¨æ–‡ä»¶çš„æ–‡ä»¶è·¯å¾„ï¼ˆæ–‡æœ¬å†…æ¯è¡Œè·¯å¾„ä¸ºç›¸å¯¹data_dirçš„ç›¸å¯¹è·¯å¾„ï¼‰ã€‚
- **label_list** (str): æè¿°æ•°æ®é›†åŒ…å«çš„ç±»åˆ«ä¿¡æ¯æ–‡ä»¶è·¯å¾„ã€‚

éœ€è¦å°†ç¬¬äºŒæ­¥æ•°æ®å‡†å¤‡æ—¶ç”Ÿæˆçš„labels.txt, train_list.txt, val_list.txtå’Œtest_list.txté…ç½®åˆ°ä»¥ä¸Šå˜é‡ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](https://ai-studio-static-online.cdn.bcebos.com/6462f7811da3436290948e5dde0c497d6ae51bcfe1904e0a863ff032363a4448)


# å››ã€æ¨¡å‹è®­ç»ƒ

PaddleXç›®å‰æä¾›äº†FasterRCNNå’ŒYOLOv3ä¸¤ç§æ£€æµ‹ç»“æ„ï¼Œå¤šç§backboneæ¨¡å‹ã€‚æœ¬åŸºçº¿ç³»ç»Ÿä»¥éª¨å¹²ç½‘ç»œä¸ºMobileNetV1çš„YOLOv3ç®—æ³•ä¸ºä¾‹ã€‚


```python
# åˆå§‹åŒ–æ¨¡å‹
# APIè¯´æ˜: https://paddlex.readthedocs.io/zh_CN/develop/apis/models/detection.html#paddlex-det-yolov3
import paddlex as pdx
# æ­¤å¤„éœ€è¦è¡¥å……ç›®æ ‡æ£€æµ‹æ¨¡å‹ä»£ç 
num_classes = len(train_dataset.labels)
model = pdx.det.YOLOv3(num_classes=len(train_dataset.labels), backbone='MobileNetV1')
```


```python
# æ¨¡å‹è®­ç»ƒ
# APIè¯´æ˜: https://paddlex.readthedocs.io/zh_CN/develop/apis/models/detection.html#id1
# å„å‚æ•°ä»‹ç»ä¸è°ƒæ•´è¯´æ˜ï¼šhttps://paddlex.readthedocs.io/zh_CN/develop/appendix/parameters.html

# æ­¤å¤„éœ€è¦è¡¥å……æ¨¡å‹è®­ç»ƒå‚æ•°
model.train(
    num_epochs=200,
    train_dataset=train_dataset,
    train_batch_size=8,
    eval_dataset=eval_dataset,
    learning_rate=0.00325,
    lr_decay_epochs=[210, 240],
    save_dir='output/yolov3_mobilenetv1')
```

    /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py:706: DeprecationWarning: `np.bool` is a deprecated alias for the builtin `bool`. To silence this warning, use `bool` by itself. Doing this will not modify any behavior and is safe. If you specifically wanted the numpy scalar type, use `np.bool_` here.
    Deprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations
      elif dtype == np.bool:


    2021-08-12 16:15:14 [INFO]	Decompressing output/yolov3_mobilenetv1/pretrain/MobileNetV1_pretrained.tar...
    2021-08-12 16:15:20 [INFO]	Load pretrain weights from output/yolov3_mobilenetv1/pretrain/MobileNetV1_pretrained.
    2021-08-12 16:15:20 [INFO]	There are 135 varaibles in output/yolov3_mobilenetv1/pretrain/MobileNetV1_pretrained are loaded.
    2021-08-12 16:15:28 [INFO]	[TRAIN] Epoch=1/200, Step=2/18, loss=12424.319336, lr=3e-06, time_each_step=4.27s, eta=4:20:18
    2021-08-12 16:15:31 [INFO]	[TRAIN] Epoch=1/200, Step=4/18, loss=5984.50293, lr=1e-05, time_each_step=2.68s, eta=2:43:27
    2021-08-12 16:15:33 [INFO]	[TRAIN] Epoch=1/200, Step=6/18, loss=492.50647, lr=1.6e-05, time_each_step=2.2s, eta=2:14:0
    2021-08-12 16:15:36 [INFO]	[TRAIN] Epoch=1/200, Step=8/18, loss=68.600632, lr=2.3e-05, time_each_step=2.0s, eta=2:1:45
    2021-08-12 16:15:39 [INFO]	[TRAIN] Epoch=1/200, Step=10/18, loss=31.148174, lr=2.9e-05, time_each_step=1.87s, eta=1:53:44
    2021-08-12 16:15:41 [INFO]	[TRAIN] Epoch=1/200, Step=12/18, loss=27.398848, lr=3.6e-05, time_each_step=1.77s, eta=1:47:24
    2021-08-12 16:15:43 [INFO]	[TRAIN] Epoch=1/200, Step=14/18, loss=29.497778, lr=4.2e-05, time_each_step=1.68s, eta=1:41:59
    2021-08-12 16:15:46 [INFO]	[TRAIN] Epoch=1/200, Step=16/18, loss=25.346058, lr=4.9e-05, time_each_step=1.64s, eta=1:39:26
    2021-08-12 16:15:48 [INFO]	[TRAIN] Epoch=1/200, Step=18/18, loss=39.299419, lr=5.5e-05, time_each_step=1.58s, eta=1:36:5
    2021-08-12 16:15:49 [INFO]	[TRAIN] Epoch 1 finished, loss=2143.626953, lr=2.8e-05 .
    2021-08-12 16:15:59 [INFO]	[TRAIN] Epoch=2/200, Step=2/18, loss=39.206734, lr=6.2e-05, time_each_step=1.95s, eta=1:37:40
    2021-08-12 16:16:02 [INFO]	[TRAIN] Epoch=2/200, Step=4/18, loss=48.158096, lr=6.8e-05, time_each_step=1.65s, eta=1:37:14
    2021-08-12 16:16:04 [INFO]	[TRAIN] Epoch=2/200, Step=6/18, loss=44.222412, lr=7.5e-05, time_each_step=1.68s, eta=1:37:13
    2021-08-12 16:16:07 [INFO]	[TRAIN] Epoch=2/200, Step=8/18, loss=51.877117, lr=8.1e-05, time_each_step=1.66s, eta=1:37:8
    2021-08-12 16:16:09 [INFO]	[TRAIN] Epoch=2/200, Step=10/18, loss=48.130928, lr=8.8e-05, time_each_step=1.65s, eta=1:37:4
    2021-08-12 16:16:12 [INFO]	[TRAIN] Epoch=2/200, Step=12/18, loss=54.764931, lr=9.4e-05, time_each_step=1.65s, eta=1:37:1
    2021-08-12 16:16:15 [INFO]	[TRAIN] Epoch=2/200, Step=14/18, loss=50.851273, lr=0.000101, time_each_step=1.66s, eta=1:36:58
    2021-08-12 16:16:17 [INFO]	[TRAIN] Epoch=2/200, Step=16/18, loss=42.383671, lr=0.000107, time_each_step=1.68s, eta=1:36:56
    2021-08-12 16:16:20 [INFO]	[TRAIN] Epoch=2/200, Step=18/18, loss=42.180412, lr=0.000114, time_each_step=1.69s, eta=1:36:54
    2021-08-12 16:16:20 [INFO]	[TRAIN] Epoch 2 finished, loss=44.563564, lr=8.6e-05 .
    2021-08-12 16:16:27 [INFO]	[TRAIN] Epoch=3/200, Step=2/18, loss=38.579647, lr=0.00012, time_each_step=1.91s, eta=1:45:56
    2021-08-12 16:16:30 [INFO]	[TRAIN] Epoch=3/200, Step=4/18, loss=32.280468, lr=0.000127, time_each_step=1.53s, eta=1:45:25
    2021-08-12 16:16:32 [INFO]	[TRAIN] Epoch=3/200, Step=6/18, loss=30.850983, lr=0.000133, time_each_step=1.49s, eta=1:45:19
    2021-08-12 16:16:34 [INFO]	[TRAIN] Epoch=3/200, Step=8/18, loss=28.836357, lr=0.00014, time_each_step=1.47s, eta=1:45:15
    2021-08-12 16:16:36 [INFO]	[TRAIN] Epoch=3/200, Step=10/18, loss=25.889462, lr=0.000146, time_each_step=1.48s, eta=1:45:12
    2021-08-12 16:16:39 [INFO]	[TRAIN] Epoch=3/200, Step=12/18, loss=24.021759, lr=0.000153, time_each_step=1.48s, eta=1:45:10
    2021-08-12 16:16:41 [INFO]	[TRAIN] Epoch=3/200, Step=14/18, loss=23.34318, lr=0.000159, time_each_step=1.48s, eta=1:45:6
    2021-08-12 16:16:44 [INFO]	[TRAIN] Epoch=3/200, Step=16/18, loss=18.6749, lr=0.000166, time_each_step=1.48s, eta=1:45:3
    2021-08-12 16:16:46 [INFO]	[TRAIN] Epoch=3/200, Step=18/18, loss=21.295662, lr=0.000172, time_each_step=1.43s, eta=1:44:58
    2021-08-12 16:16:46 [INFO]	[TRAIN] Epoch 3 finished, loss=27.460066, lr=0.000145 .
    2021-08-12 16:16:54 [INFO]	[TRAIN] Epoch=4/200, Step=2/18, loss=24.776747, lr=0.000179, time_each_step=1.66s, eta=1:27:2
    2021-08-12 16:16:56 [INFO]	[TRAIN] Epoch=4/200, Step=4/18, loss=20.664103, lr=0.000185, time_each_step=1.45s, eta=1:26:43
    2021-08-12 16:16:58 [INFO]	[TRAIN] Epoch=4/200, Step=6/18, loss=21.171894, lr=0.000192, time_each_step=1.42s, eta=1:26:38
    2021-08-12 16:17:01 [INFO]	[TRAIN] Epoch=4/200, Step=8/18, loss=25.659161, lr=0.000198, time_each_step=1.46s, eta=1:26:37
    2021-08-12 16:17:03 [INFO]	[TRAIN] Epoch=4/200, Step=10/18, loss=17.14533, lr=0.000205, time_each_step=1.47s, eta=1:26:35
    2021-08-12 16:17:06 [INFO]	[TRAIN] Epoch=4/200, Step=12/18, loss=15.681587, lr=0.000211, time_each_step=1.48s, eta=1:26:33
    2021-08-12 16:17:08 [INFO]	[TRAIN] Epoch=4/200, Step=14/18, loss=15.842167, lr=0.000218, time_each_step=1.46s, eta=1:26:29
    2021-08-12 16:17:11 [INFO]	[TRAIN] Epoch=4/200, Step=16/18, loss=15.733577, lr=0.000224, time_each_step=1.48s, eta=1:26:27
    2021-08-12 16:17:14 [INFO]	[TRAIN] Epoch=4/200, Step=18/18, loss=13.316287, lr=0.000231, time_each_step=1.46s, eta=1:26:23
    2021-08-12 16:17:14 [INFO]	[TRAIN] Epoch 4 finished, loss=18.362448, lr=0.000203 .
    2021-08-12 16:17:21 [INFO]	[TRAIN] Epoch=5/200, Step=2/18, loss=15.084722, lr=0.000237, time_each_step=1.72s, eta=1:31:51
    2021-08-12 16:17:24 [INFO]	[TRAIN] Epoch=5/200, Step=4/18, loss=13.791184, lr=0.000244, time_each_step=1.52s, eta=1:31:33
    2021-08-12 16:17:26 [INFO]	[TRAIN] Epoch=5/200, Step=6/18, loss=13.255055, lr=0.00025, time_each_step=1.49s, eta=1:31:28
    2021-08-12 16:17:29 [INFO]	[TRAIN] Epoch=5/200, Step=8/18, loss=15.380801, lr=0.000257, time_each_step=1.53s, eta=1:31:28
    2021-08-12 16:17:31 [INFO]	[TRAIN] Epoch=5/200, Step=10/18, loss=10.599225, lr=0.000263, time_each_step=1.5s, eta=1:31:23
    2021-08-12 16:17:33 [INFO]	[TRAIN] Epoch=5/200, Step=12/18, loss=12.151402, lr=0.00027, time_each_step=1.48s, eta=1:31:18
    2021-08-12 16:17:36 [INFO]	[TRAIN] Epoch=5/200, Step=14/18, loss=13.142591, lr=0.000276, time_each_step=1.49s, eta=1:31:16
    2021-08-12 16:17:39 [INFO]	[TRAIN] Epoch=5/200, Step=16/18, loss=14.678616, lr=0.000283, time_each_step=1.52s, eta=1:31:15
    2021-08-12 16:17:41 [INFO]	[TRAIN] Epoch=5/200, Step=18/18, loss=10.856969, lr=0.000289, time_each_step=1.47s, eta=1:31:9
    2021-08-12 16:17:41 [INFO]	[TRAIN] Epoch 5 finished, loss=12.893757, lr=0.000262 .
    2021-08-12 16:17:50 [INFO]	[TRAIN] Epoch=6/200, Step=2/18, loss=12.456942, lr=0.000296, time_each_step=1.8s, eta=1:31:46
    2021-08-12 16:17:53 [INFO]	[TRAIN] Epoch=6/200, Step=4/18, loss=11.297229, lr=0.000302, time_each_step=1.6s, eta=1:31:27
    2021-08-12 16:17:55 [INFO]	[TRAIN] Epoch=6/200, Step=6/18, loss=11.404101, lr=0.000309, time_each_step=1.54s, eta=1:31:19
    2021-08-12 16:17:58 [INFO]	[TRAIN] Epoch=6/200, Step=8/18, loss=12.702139, lr=0.000315, time_each_step=1.58s, eta=1:31:20
    2021-08-12 16:18:00 [INFO]	[TRAIN] Epoch=6/200, Step=10/18, loss=10.700482, lr=0.000322, time_each_step=1.51s, eta=1:31:12
    2021-08-12 16:18:03 [INFO]	[TRAIN] Epoch=6/200, Step=12/18, loss=11.911579, lr=0.000328, time_each_step=1.57s, eta=1:31:12
    2021-08-12 16:18:06 [INFO]	[TRAIN] Epoch=6/200, Step=14/18, loss=12.130696, lr=0.000335, time_each_step=1.59s, eta=1:31:10
    2021-08-12 16:18:08 [INFO]	[TRAIN] Epoch=6/200, Step=16/18, loss=9.427988, lr=0.000341, time_each_step=1.54s, eta=1:31:5
    2021-08-12 16:18:10 [INFO]	[TRAIN] Epoch=6/200, Step=18/18, loss=11.887888, lr=0.000348, time_each_step=1.55s, eta=1:31:2
    2021-08-12 16:18:11 [INFO]	[TRAIN] Epoch 6 finished, loss=11.622976, lr=0.00032 .
    2021-08-12 16:18:19 [INFO]	[TRAIN] Epoch=7/200, Step=2/18, loss=12.043168, lr=0.000354, time_each_step=1.84s, eta=1:37:26
    2021-08-12 16:18:20 [INFO]	[TRAIN] Epoch=7/200, Step=4/18, loss=10.569337, lr=0.000361, time_each_step=1.46s, eta=1:36:54
    2021-08-12 16:18:23 [INFO]	[TRAIN] Epoch=7/200, Step=6/18, loss=11.028103, lr=0.000367, time_each_step=1.45s, eta=1:36:51
    2021-08-12 16:18:25 [INFO]	[TRAIN] Epoch=7/200, Step=8/18, loss=10.795851, lr=0.000374, time_each_step=1.47s, eta=1:36:49
    2021-08-12 16:18:28 [INFO]	[TRAIN] Epoch=7/200, Step=10/18, loss=10.555259, lr=0.00038, time_each_step=1.47s, eta=1:36:46
    2021-08-12 16:18:31 [INFO]	[TRAIN] Epoch=7/200, Step=12/18, loss=10.451599, lr=0.000387, time_each_step=1.53s, eta=1:36:47
    2021-08-12 16:18:34 [INFO]	[TRAIN] Epoch=7/200, Step=14/18, loss=10.895737, lr=0.000393, time_each_step=1.51s, eta=1:36:42
    2021-08-12 16:18:36 [INFO]	[TRAIN] Epoch=7/200, Step=16/18, loss=10.917164, lr=0.0004, time_each_step=1.5s, eta=1:36:39
    2021-08-12 16:18:38 [INFO]	[TRAIN] Epoch=7/200, Step=18/18, loss=10.113013, lr=0.000406, time_each_step=1.51s, eta=1:36:37
    2021-08-12 16:18:39 [INFO]	[TRAIN] Epoch 7 finished, loss=10.907152, lr=0.000379 .
    2021-08-12 16:18:49 [INFO]	[TRAIN] Epoch=8/200, Step=2/18, loss=11.404598, lr=0.000413, time_each_step=1.89s, eta=1:30:47
    2021-08-12 16:18:53 [INFO]	[TRAIN] Epoch=8/200, Step=4/18, loss=10.258933, lr=0.000419, time_each_step=1.67s, eta=1:30:27
    2021-08-12 16:18:55 [INFO]	[TRAIN] Epoch=8/200, Step=6/18, loss=11.847164, lr=0.000426, time_each_step=1.7s, eta=1:30:26
    2021-08-12 16:18:57 [INFO]	[TRAIN] Epoch=8/200, Step=8/18, loss=10.249228, lr=0.000432, time_each_step=1.68s, eta=1:30:21
    2021-08-12 16:18:59 [INFO]	[TRAIN] Epoch=8/200, Step=10/18, loss=12.151519, lr=0.000439, time_each_step=1.69s, eta=1:30:18
    2021-08-12 16:19:02 [INFO]	[TRAIN] Epoch=8/200, Step=12/18, loss=12.155796, lr=0.000445, time_each_step=1.68s, eta=1:30:14
    2021-08-12 16:19:04 [INFO]	[TRAIN] Epoch=8/200, Step=14/18, loss=11.493907, lr=0.000452, time_each_step=1.64s, eta=1:30:8
    2021-08-12 16:19:06 [INFO]	[TRAIN] Epoch=8/200, Step=16/18, loss=11.671772, lr=0.000458, time_each_step=1.63s, eta=1:30:5
    2021-08-12 16:19:09 [INFO]	[TRAIN] Epoch=8/200, Step=18/18, loss=10.286629, lr=0.000465, time_each_step=1.65s, eta=1:30:2
    2021-08-12 16:19:09 [INFO]	[TRAIN] Epoch 8 finished, loss=11.199951, lr=0.000437 .
    2021-08-12 16:19:15 [INFO]	[TRAIN] Epoch=9/200, Step=2/18, loss=11.697793, lr=0.000471, time_each_step=1.82s, eta=1:40:10
    2021-08-12 16:19:18 [INFO]	[TRAIN] Epoch=9/200, Step=4/18, loss=9.943529, lr=0.000478, time_each_step=1.43s, eta=1:39:38
    2021-08-12 16:19:21 [INFO]	[TRAIN] Epoch=9/200, Step=6/18, loss=9.831784, lr=0.000484, time_each_step=1.43s, eta=1:39:35
    2021-08-12 16:19:24 [INFO]	[TRAIN] Epoch=9/200, Step=8/18, loss=10.580875, lr=0.000491, time_each_step=1.45s, eta=1:39:33
    2021-08-12 16:19:25 [INFO]	[TRAIN] Epoch=9/200, Step=10/18, loss=9.750928, lr=0.000497, time_each_step=1.42s, eta=1:39:28
    2021-08-12 16:19:28 [INFO]	[TRAIN] Epoch=9/200, Step=12/18, loss=9.413586, lr=0.000504, time_each_step=1.42s, eta=1:39:26
    2021-08-12 16:19:31 [INFO]	[TRAIN] Epoch=9/200, Step=14/18, loss=8.611685, lr=0.00051, time_each_step=1.45s, eta=1:39:24
    2021-08-12 16:19:34 [INFO]	[TRAIN] Epoch=9/200, Step=16/18, loss=11.019284, lr=0.000517, time_each_step=1.46s, eta=1:39:22
    2021-08-12 16:19:36 [INFO]	[TRAIN] Epoch=9/200, Step=18/18, loss=9.167578, lr=0.000523, time_each_step=1.48s, eta=1:39:20
    2021-08-12 16:19:36 [INFO]	[TRAIN] Epoch 9 finished, loss=10.237647, lr=0.000496 .
    2021-08-12 16:19:41 [INFO]	[TRAIN] Epoch=10/200, Step=2/18, loss=11.180606, lr=0.00053, time_each_step=1.59s, eta=1:26:53
    2021-08-12 16:19:44 [INFO]	[TRAIN] Epoch=10/200, Step=4/18, loss=9.247654, lr=0.000536, time_each_step=1.44s, eta=1:26:38
    2021-08-12 16:19:46 [INFO]	[TRAIN] Epoch=10/200, Step=6/18, loss=10.349799, lr=0.000543, time_each_step=1.42s, eta=1:26:34
    2021-08-12 16:19:49 [INFO]	[TRAIN] Epoch=10/200, Step=8/18, loss=8.952066, lr=0.000549, time_each_step=1.39s, eta=1:26:29
    2021-08-12 16:19:51 [INFO]	[TRAIN] Epoch=10/200, Step=10/18, loss=9.525167, lr=0.000556, time_each_step=1.38s, eta=1:26:25
    2021-08-12 16:19:54 [INFO]	[TRAIN] Epoch=10/200, Step=12/18, loss=10.72296, lr=0.000562, time_each_step=1.44s, eta=1:26:26
    2021-08-12 16:19:56 [INFO]	[TRAIN] Epoch=10/200, Step=14/18, loss=10.019914, lr=0.000569, time_each_step=1.4s, eta=1:26:21
    2021-08-12 16:19:59 [INFO]	[TRAIN] Epoch=10/200, Step=16/18, loss=9.831098, lr=0.000575, time_each_step=1.37s, eta=1:26:16
    2021-08-12 16:20:01 [INFO]	[TRAIN] Epoch=10/200, Step=18/18, loss=10.318104, lr=0.000582, time_each_step=1.37s, eta=1:26:13
    2021-08-12 16:20:01 [INFO]	[TRAIN] Epoch 10 finished, loss=10.240235, lr=0.000554 .
    2021-08-12 16:20:08 [INFO]	[TRAIN] Epoch=11/200, Step=2/18, loss=11.538828, lr=0.000588, time_each_step=1.56s, eta=1:20:43
    2021-08-12 16:20:10 [INFO]	[TRAIN] Epoch=11/200, Step=4/18, loss=8.280288, lr=0.000595, time_each_step=1.42s, eta=1:20:30
    2021-08-12 16:20:13 [INFO]	[TRAIN] Epoch=11/200, Step=6/18, loss=9.53311, lr=0.000601, time_each_step=1.41s, eta=1:20:26
    2021-08-12 16:20:16 [INFO]	[TRAIN] Epoch=11/200, Step=8/18, loss=10.429328, lr=0.000608, time_each_step=1.48s, eta=1:20:28
    2021-08-12 16:20:18 [INFO]	[TRAIN] Epoch=11/200, Step=10/18, loss=10.127885, lr=0.000614, time_each_step=1.45s, eta=1:20:23
    2021-08-12 16:20:21 [INFO]	[TRAIN] Epoch=11/200, Step=12/18, loss=9.471131, lr=0.000621, time_each_step=1.46s, eta=1:20:21
    2021-08-12 16:20:24 [INFO]	[TRAIN] Epoch=11/200, Step=14/18, loss=10.3742, lr=0.000627, time_each_step=1.48s, eta=1:20:19
    2021-08-12 16:20:26 [INFO]	[TRAIN] Epoch=11/200, Step=16/18, loss=8.419383, lr=0.000634, time_each_step=1.48s, eta=1:20:17
    2021-08-12 16:20:29 [INFO]	[TRAIN] Epoch=11/200, Step=18/18, loss=9.337952, lr=0.00064, time_each_step=1.51s, eta=1:20:15
    2021-08-12 16:20:29 [INFO]	[TRAIN] Epoch 11 finished, loss=10.090775, lr=0.000613 .
    2021-08-12 16:20:40 [INFO]	[TRAIN] Epoch=12/200, Step=2/18, loss=9.552501, lr=0.000647, time_each_step=1.94s, eta=1:29:31
    2021-08-12 16:20:42 [INFO]	[TRAIN] Epoch=12/200, Step=4/18, loss=11.184269, lr=0.000653, time_each_step=1.73s, eta=1:29:12
    2021-08-12 16:20:45 [INFO]	[TRAIN] Epoch=12/200, Step=6/18, loss=9.563411, lr=0.00066, time_each_step=1.77s, eta=1:29:12
    2021-08-12 16:20:47 [INFO]	[TRAIN] Epoch=12/200, Step=8/18, loss=9.554993, lr=0.000666, time_each_step=1.74s, eta=1:29:6
    2021-08-12 16:20:50 [INFO]	[TRAIN] Epoch=12/200, Step=10/18, loss=8.831686, lr=0.000673, time_each_step=1.69s, eta=1:28:59
    2021-08-12 16:20:52 [INFO]	[TRAIN] Epoch=12/200, Step=12/18, loss=9.831092, lr=0.000679, time_each_step=1.71s, eta=1:28:57
    2021-08-12 16:20:55 [INFO]	[TRAIN] Epoch=12/200, Step=14/18, loss=8.525717, lr=0.000686, time_each_step=1.71s, eta=1:28:54
    2021-08-12 16:20:58 [INFO]	[TRAIN] Epoch=12/200, Step=16/18, loss=9.298212, lr=0.000692, time_each_step=1.69s, eta=1:28:49
    2021-08-12 16:21:00 [INFO]	[TRAIN] Epoch=12/200, Step=18/18, loss=9.325985, lr=0.000699, time_each_step=1.7s, eta=1:28:46
    2021-08-12 16:21:00 [INFO]	[TRAIN] Epoch 12 finished, loss=9.304272, lr=0.000671 .
    2021-08-12 16:21:06 [INFO]	[TRAIN] Epoch=13/200, Step=2/18, loss=8.822073, lr=0.000705, time_each_step=1.84s, eta=1:39:47
    2021-08-12 16:21:09 [INFO]	[TRAIN] Epoch=13/200, Step=4/18, loss=9.342211, lr=0.000712, time_each_step=1.43s, eta=1:39:12
    2021-08-12 16:21:12 [INFO]	[TRAIN] Epoch=13/200, Step=6/18, loss=9.393559, lr=0.000718, time_each_step=1.46s, eta=1:39:12
    2021-08-12 16:21:14 [INFO]	[TRAIN] Epoch=13/200, Step=8/18, loss=10.322716, lr=0.000725, time_each_step=1.44s, eta=1:39:8
    2021-08-12 16:21:17 [INFO]	[TRAIN] Epoch=13/200, Step=10/18, loss=9.023019, lr=0.000731, time_each_step=1.46s, eta=1:39:6
    2021-08-12 16:21:19 [INFO]	[TRAIN] Epoch=13/200, Step=12/18, loss=9.493388, lr=0.000738, time_each_step=1.45s, eta=1:39:3
    2021-08-12 16:21:22 [INFO]	[TRAIN] Epoch=13/200, Step=14/18, loss=9.749252, lr=0.000744, time_each_step=1.46s, eta=1:39:0
    2021-08-12 16:21:24 [INFO]	[TRAIN] Epoch=13/200, Step=16/18, loss=8.489131, lr=0.000751, time_each_step=1.44s, eta=1:38:56
    2021-08-12 16:21:26 [INFO]	[TRAIN] Epoch=13/200, Step=18/18, loss=9.994354, lr=0.000757, time_each_step=1.41s, eta=1:38:52
    2021-08-12 16:21:26 [INFO]	[TRAIN] Epoch 13 finished, loss=9.223182, lr=0.00073 .
    2021-08-12 16:21:38 [INFO]	[TRAIN] Epoch=14/200, Step=2/18, loss=8.070253, lr=0.000764, time_each_step=1.9s, eta=1:22:55
    2021-08-12 16:21:41 [INFO]	[TRAIN] Epoch=14/200, Step=4/18, loss=9.646408, lr=0.00077, time_each_step=1.73s, eta=1:22:39
    2021-08-12 16:21:44 [INFO]	[TRAIN] Epoch=14/200, Step=6/18, loss=9.645512, lr=0.000777, time_each_step=1.75s, eta=1:22:37
    2021-08-12 16:21:47 [INFO]	[TRAIN] Epoch=14/200, Step=8/18, loss=9.260681, lr=0.000783, time_each_step=1.74s, eta=1:22:33
    2021-08-12 16:21:49 [INFO]	[TRAIN] Epoch=14/200, Step=10/18, loss=8.951619, lr=0.00079, time_each_step=1.73s, eta=1:22:29
    2021-08-12 16:21:52 [INFO]	[TRAIN] Epoch=14/200, Step=12/18, loss=8.827555, lr=0.000796, time_each_step=1.74s, eta=1:22:26
    2021-08-12 16:21:54 [INFO]	[TRAIN] Epoch=14/200, Step=14/18, loss=9.164458, lr=0.000803, time_each_step=1.74s, eta=1:22:23
    2021-08-12 16:21:57 [INFO]	[TRAIN] Epoch=14/200, Step=16/18, loss=7.881999, lr=0.000809, time_each_step=1.72s, eta=1:22:18
    2021-08-12 16:21:59 [INFO]	[TRAIN] Epoch=14/200, Step=18/18, loss=7.813338, lr=0.000816, time_each_step=1.76s, eta=1:22:16
    2021-08-12 16:21:59 [INFO]	[TRAIN] Epoch 14 finished, loss=8.742451, lr=0.000788 .
    2021-08-12 16:22:05 [INFO]	[TRAIN] Epoch=15/200, Step=2/18, loss=8.707806, lr=0.000822, time_each_step=1.94s, eta=1:44:45
    2021-08-12 16:22:08 [INFO]	[TRAIN] Epoch=15/200, Step=4/18, loss=7.468525, lr=0.000829, time_each_step=1.48s, eta=1:44:7
    2021-08-12 16:22:12 [INFO]	[TRAIN] Epoch=15/200, Step=6/18, loss=9.701406, lr=0.000835, time_each_step=1.52s, eta=1:44:7
    2021-08-12 16:22:13 [INFO]	[TRAIN] Epoch=15/200, Step=8/18, loss=7.277518, lr=0.000842, time_each_step=1.46s, eta=1:44:0
    2021-08-12 16:22:16 [INFO]	[TRAIN] Epoch=15/200, Step=10/18, loss=8.089711, lr=0.000848, time_each_step=1.46s, eta=1:43:57
    2021-08-12 16:22:19 [INFO]	[TRAIN] Epoch=15/200, Step=12/18, loss=9.076612, lr=0.000855, time_each_step=1.47s, eta=1:43:55
    2021-08-12 16:22:21 [INFO]	[TRAIN] Epoch=15/200, Step=14/18, loss=7.747151, lr=0.000861, time_each_step=1.46s, eta=1:43:51
    2021-08-12 16:22:24 [INFO]	[TRAIN] Epoch=15/200, Step=16/18, loss=7.591361, lr=0.000868, time_each_step=1.45s, eta=1:43:48
    2021-08-12 16:22:26 [INFO]	[TRAIN] Epoch=15/200, Step=18/18, loss=7.989362, lr=0.000874, time_each_step=1.47s, eta=1:43:46
    2021-08-12 16:22:26 [INFO]	[TRAIN] Epoch 15 finished, loss=8.313425, lr=0.000847 .
    2021-08-12 16:22:33 [INFO]	[TRAIN] Epoch=16/200, Step=2/18, loss=7.881538, lr=0.000881, time_each_step=1.67s, eta=1:24:20
    2021-08-12 16:22:35 [INFO]	[TRAIN] Epoch=16/200, Step=4/18, loss=9.363697, lr=0.000887, time_each_step=1.51s, eta=1:24:5
    2021-08-12 16:22:38 [INFO]	[TRAIN] Epoch=16/200, Step=6/18, loss=8.794709, lr=0.000894, time_each_step=1.5s, eta=1:24:2
    2021-08-12 16:22:40 [INFO]	[TRAIN] Epoch=16/200, Step=8/18, loss=8.612985, lr=0.0009, time_each_step=1.43s, eta=1:23:53
    2021-08-12 16:22:43 [INFO]	[TRAIN] Epoch=16/200, Step=10/18, loss=9.298818, lr=0.000907, time_each_step=1.49s, eta=1:23:55
    2021-08-12 16:22:46 [INFO]	[TRAIN] Epoch=16/200, Step=12/18, loss=9.359801, lr=0.000913, time_each_step=1.49s, eta=1:23:52
    2021-08-12 16:22:49 [INFO]	[TRAIN] Epoch=16/200, Step=14/18, loss=8.521537, lr=0.00092, time_each_step=1.49s, eta=1:23:49
    2021-08-12 16:22:52 [INFO]	[TRAIN] Epoch=16/200, Step=16/18, loss=9.291897, lr=0.000926, time_each_step=1.52s, eta=1:23:47
    2021-08-12 16:22:54 [INFO]	[TRAIN] Epoch=16/200, Step=18/18, loss=9.603252, lr=0.000933, time_each_step=1.53s, eta=1:23:45
    2021-08-12 16:22:54 [INFO]	[TRAIN] Epoch 16 finished, loss=8.777752, lr=0.000905 .
    2021-08-12 16:23:04 [INFO]	[TRAIN] Epoch=17/200, Step=2/18, loss=8.098992, lr=0.000939, time_each_step=1.87s, eta=1:28:0
    2021-08-12 16:23:06 [INFO]	[TRAIN] Epoch=17/200, Step=4/18, loss=9.001678, lr=0.000946, time_each_step=1.65s, eta=1:27:40
    2021-08-12 16:23:08 [INFO]	[TRAIN] Epoch=17/200, Step=6/18, loss=9.806831, lr=0.000952, time_each_step=1.62s, eta=1:27:34
    2021-08-12 16:23:11 [INFO]	[TRAIN] Epoch=17/200, Step=8/18, loss=8.908455, lr=0.000959, time_each_step=1.62s, eta=1:27:31
    2021-08-12 16:23:13 [INFO]	[TRAIN] Epoch=17/200, Step=10/18, loss=8.217675, lr=0.000965, time_each_step=1.65s, eta=1:27:30
    2021-08-12 16:23:16 [INFO]	[TRAIN] Epoch=17/200, Step=12/18, loss=8.488864, lr=0.000972, time_each_step=1.61s, eta=1:27:24
    2021-08-12 16:23:18 [INFO]	[TRAIN] Epoch=17/200, Step=14/18, loss=8.907871, lr=0.000978, time_each_step=1.62s, eta=1:27:21
    2021-08-12 16:23:21 [INFO]	[TRAIN] Epoch=17/200, Step=16/18, loss=8.298579, lr=0.000985, time_each_step=1.6s, eta=1:27:17
    2021-08-12 16:23:23 [INFO]	[TRAIN] Epoch=17/200, Step=18/18, loss=8.42618, lr=0.000991, time_each_step=1.58s, eta=1:27:13
    2021-08-12 16:23:24 [INFO]	[TRAIN] Epoch 17 finished, loss=8.666736, lr=0.000964 .
    2021-08-12 16:23:31 [INFO]	[TRAIN] Epoch=18/200, Step=2/18, loss=9.112041, lr=0.000998, time_each_step=1.79s, eta=1:32:15
    2021-08-12 16:23:34 [INFO]	[TRAIN] Epoch=18/200, Step=4/18, loss=9.100847, lr=0.001004, time_each_step=1.5s, eta=1:31:50
    2021-08-12 16:23:36 [INFO]	[TRAIN] Epoch=18/200, Step=6/18, loss=7.361719, lr=0.001011, time_each_step=1.47s, eta=1:31:45
    2021-08-12 16:23:39 [INFO]	[TRAIN] Epoch=18/200, Step=8/18, loss=8.47445, lr=0.001017, time_each_step=1.51s, eta=1:31:44
    2021-08-12 16:23:41 [INFO]	[TRAIN] Epoch=18/200, Step=10/18, loss=8.472906, lr=0.001024, time_each_step=1.47s, eta=1:31:39
    2021-08-12 16:23:44 [INFO]	[TRAIN] Epoch=18/200, Step=12/18, loss=8.805077, lr=0.00103, time_each_step=1.5s, eta=1:31:38
    2021-08-12 16:23:46 [INFO]	[TRAIN] Epoch=18/200, Step=14/18, loss=9.096434, lr=0.001037, time_each_step=1.48s, eta=1:31:33
    2021-08-12 16:23:49 [INFO]	[TRAIN] Epoch=18/200, Step=16/18, loss=8.503882, lr=0.001043, time_each_step=1.49s, eta=1:31:31
    2021-08-12 16:23:51 [INFO]	[TRAIN] Epoch=18/200, Step=18/18, loss=7.522349, lr=0.00105, time_each_step=1.48s, eta=1:31:27
    2021-08-12 16:23:51 [INFO]	[TRAIN] Epoch 18 finished, loss=8.768881, lr=0.001022 .
    2021-08-12 16:24:02 [INFO]	[TRAIN] Epoch=19/200, Step=2/18, loss=7.997169, lr=0.001056, time_each_step=1.9s, eta=1:23:58
    2021-08-12 16:24:05 [INFO]	[TRAIN] Epoch=19/200, Step=4/18, loss=8.150252, lr=0.001063, time_each_step=1.69s, eta=1:23:39
    2021-08-12 16:24:07 [INFO]	[TRAIN] Epoch=19/200, Step=6/18, loss=7.454336, lr=0.001069, time_each_step=1.61s, eta=1:23:30
    2021-08-12 16:24:09 [INFO]	[TRAIN] Epoch=19/200, Step=8/18, loss=7.839748, lr=0.001076, time_each_step=1.65s, eta=1:23:29
    2021-08-12 16:24:12 [INFO]	[TRAIN] Epoch=19/200, Step=10/18, loss=8.495505, lr=0.001082, time_each_step=1.64s, eta=1:23:25
    2021-08-12 16:24:14 [INFO]	[TRAIN] Epoch=19/200, Step=12/18, loss=8.541577, lr=0.001089, time_each_step=1.64s, eta=1:23:22
    2021-08-12 16:24:16 [INFO]	[TRAIN] Epoch=19/200, Step=14/18, loss=8.820197, lr=0.001095, time_each_step=1.62s, eta=1:23:17
    2021-08-12 16:24:19 [INFO]	[TRAIN] Epoch=19/200, Step=16/18, loss=7.075903, lr=0.001102, time_each_step=1.64s, eta=1:23:15
    2021-08-12 16:24:22 [INFO]	[TRAIN] Epoch=19/200, Step=18/18, loss=7.715034, lr=0.001108, time_each_step=1.64s, eta=1:23:12
    2021-08-12 16:24:22 [INFO]	[TRAIN] Epoch 19 finished, loss=7.950518, lr=0.001081 .
    2021-08-12 16:24:29 [INFO]	[TRAIN] Epoch=20/200, Step=2/18, loss=7.891163, lr=0.001115, time_each_step=1.9s, eta=1:34:17
    2021-08-12 16:24:32 [INFO]	[TRAIN] Epoch=20/200, Step=4/18, loss=7.735916, lr=0.001121, time_each_step=1.52s, eta=1:33:45
    2021-08-12 16:24:34 [INFO]	[TRAIN] Epoch=20/200, Step=6/18, loss=7.334646, lr=0.001128, time_each_step=1.48s, eta=1:33:39
    2021-08-12 16:24:37 [INFO]	[TRAIN] Epoch=20/200, Step=8/18, loss=8.248288, lr=0.001134, time_each_step=1.5s, eta=1:33:38
    2021-08-12 16:24:40 [INFO]	[TRAIN] Epoch=20/200, Step=10/18, loss=7.931011, lr=0.001141, time_each_step=1.53s, eta=1:33:36
    2021-08-12 16:24:42 [INFO]	[TRAIN] Epoch=20/200, Step=12/18, loss=8.44023, lr=0.001147, time_each_step=1.5s, eta=1:33:31
    2021-08-12 16:24:44 [INFO]	[TRAIN] Epoch=20/200, Step=14/18, loss=7.386047, lr=0.001154, time_each_step=1.5s, eta=1:33:28
    2021-08-12 16:24:47 [INFO]	[TRAIN] Epoch=20/200, Step=16/18, loss=8.001069, lr=0.00116, time_each_step=1.51s, eta=1:33:26
    2021-08-12 16:24:49 [INFO]	[TRAIN] Epoch=20/200, Step=18/18, loss=7.889351, lr=0.001167, time_each_step=1.51s, eta=1:33:23
    2021-08-12 16:24:49 [INFO]	[TRAIN] Epoch 20 finished, loss=7.955265, lr=0.001139 .
    2021-08-12 16:24:49 [INFO]	Start to evaluating(total_samples=104, total_steps=6)...


    100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 6/6 [00:05<00:00,  1.06it/s]


    2021-08-12 16:24:55 [INFO]	[EVAL] Finished, Epoch=20, bbox_map=98.607511 .
    2021-08-12 16:24:56 [INFO]	Model saved in output/yolov3_mobilenetv1/best_model.
    2021-08-12 16:24:56 [INFO]	Model saved in output/yolov3_mobilenetv1/epoch_20.
    2021-08-12 16:24:56 [INFO]	Current evaluated best model in eval_dataset is epoch_20, bbox_map=98.60751106415847
    2021-08-12 16:25:09 [INFO]	[TRAIN] Epoch=21/200, Step=2/18, loss=7.996685, lr=0.001173, time_each_step=2.03s, eta=1:23:36
    2021-08-12 16:25:12 [INFO]	[TRAIN] Epoch=21/200, Step=4/18, loss=7.843711, lr=0.00118, time_each_step=1.8s, eta=1:23:28
    2021-08-12 16:25:15 [INFO]	[TRAIN] Epoch=21/200, Step=6/18, loss=7.156716, lr=0.001186, time_each_step=1.77s, eta=1:23:24
    2021-08-12 16:25:17 [INFO]	[TRAIN] Epoch=21/200, Step=8/18, loss=7.130733, lr=0.001193, time_each_step=1.76s, eta=1:23:21
    2021-08-12 16:25:19 [INFO]	[TRAIN] Epoch=21/200, Step=10/18, loss=8.415565, lr=0.001199, time_each_step=1.76s, eta=1:23:17
    2021-08-12 16:25:22 [INFO]	[TRAIN] Epoch=21/200, Step=12/18, loss=8.2786, lr=0.001206, time_each_step=1.77s, eta=1:23:14
    2021-08-12 16:25:24 [INFO]	[TRAIN] Epoch=21/200, Step=14/18, loss=7.475354, lr=0.001212, time_each_step=1.76s, eta=1:23:10
    2021-08-12 16:25:26 [INFO]	[TRAIN] Epoch=21/200, Step=16/18, loss=7.878368, lr=0.001219, time_each_step=1.77s, eta=1:23:7
    2021-08-12 16:25:29 [INFO]	[TRAIN] Epoch=21/200, Step=18/18, loss=9.932089, lr=0.001225, time_each_step=1.78s, eta=1:23:3
    2021-08-12 16:25:30 [INFO]	[TRAIN] Epoch 21 finished, loss=7.689603, lr=0.001198 .
    2021-08-12 16:25:36 [INFO]	[TRAIN] Epoch=22/200, Step=2/18, loss=7.579402, lr=0.001232, time_each_step=2.0s, eta=1:40:30
    2021-08-12 16:25:38 [INFO]	[TRAIN] Epoch=22/200, Step=4/18, loss=7.52818, lr=0.001238, time_each_step=1.43s, eta=1:40:18
    2021-08-12 16:25:41 [INFO]	[TRAIN] Epoch=22/200, Step=6/18, loss=9.612617, lr=0.001245, time_each_step=1.44s, eta=1:40:15
    2021-08-12 16:25:44 [INFO]	[TRAIN] Epoch=22/200, Step=8/18, loss=8.437771, lr=0.001251, time_each_step=1.45s, eta=1:40:12
    2021-08-12 16:25:47 [INFO]	[TRAIN] Epoch=22/200, Step=10/18, loss=8.658384, lr=0.001258, time_each_step=1.48s, eta=1:40:10
    2021-08-12 16:25:48 [INFO]	[TRAIN] Epoch=22/200, Step=12/18, loss=7.594163, lr=0.001264, time_each_step=1.46s, eta=1:40:6
    2021-08-12 16:25:51 [INFO]	[TRAIN] Epoch=22/200, Step=14/18, loss=7.057848, lr=0.001271, time_each_step=1.42s, eta=1:40:3
    2021-08-12 16:25:54 [INFO]	[TRAIN] Epoch=22/200, Step=16/18, loss=8.5533, lr=0.001277, time_each_step=1.47s, eta=1:40:1
    2021-08-12 16:25:56 [INFO]	[TRAIN] Epoch=22/200, Step=18/18, loss=8.568387, lr=0.001284, time_each_step=1.48s, eta=1:39:58
    2021-08-12 16:25:56 [INFO]	[TRAIN] Epoch 22 finished, loss=8.08285, lr=0.001256 .
    2021-08-12 16:26:04 [INFO]	[TRAIN] Epoch=23/200, Step=2/18, loss=7.402654, lr=0.00129, time_each_step=1.74s, eta=1:20:13
    2021-08-12 16:26:07 [INFO]	[TRAIN] Epoch=23/200, Step=4/18, loss=7.441075, lr=0.001297, time_each_step=1.52s, eta=1:20:6
    2021-08-12 16:26:09 [INFO]	[TRAIN] Epoch=23/200, Step=6/18, loss=8.433571, lr=0.001303, time_each_step=1.56s, eta=1:20:3
    2021-08-12 16:26:13 [INFO]	[TRAIN] Epoch=23/200, Step=8/18, loss=7.891927, lr=0.00131, time_each_step=1.57s, eta=1:20:1
    2021-08-12 16:26:15 [INFO]	[TRAIN] Epoch=23/200, Step=10/18, loss=7.752907, lr=0.001316, time_each_step=1.53s, eta=1:19:57
    2021-08-12 16:26:17 [INFO]	[TRAIN] Epoch=23/200, Step=12/18, loss=8.613978, lr=0.001323, time_each_step=1.53s, eta=1:19:54
    2021-08-12 16:26:20 [INFO]	[TRAIN] Epoch=23/200, Step=14/18, loss=8.561623, lr=0.001329, time_each_step=1.59s, eta=1:19:51
    2021-08-12 16:26:22 [INFO]	[TRAIN] Epoch=23/200, Step=16/18, loss=7.70322, lr=0.001336, time_each_step=1.58s, eta=1:19:48
    2021-08-12 16:26:25 [INFO]	[TRAIN] Epoch=23/200, Step=18/18, loss=7.26758, lr=0.001342, time_each_step=1.58s, eta=1:19:45
    2021-08-12 16:26:26 [INFO]	[TRAIN] Epoch 23 finished, loss=7.702877, lr=0.001315 .
    2021-08-12 16:26:33 [INFO]	[TRAIN] Epoch=24/200, Step=2/18, loss=6.961596, lr=0.001349, time_each_step=1.8s, eta=1:27:36
    2021-08-12 16:26:35 [INFO]	[TRAIN] Epoch=24/200, Step=4/18, loss=7.461034, lr=0.001355, time_each_step=1.5s, eta=1:27:28
    2021-08-12 16:26:38 [INFO]	[TRAIN] Epoch=24/200, Step=6/18, loss=6.776728, lr=0.001362, time_each_step=1.54s, eta=1:27:26
    2021-08-12 16:26:40 [INFO]	[TRAIN] Epoch=24/200, Step=8/18, loss=8.306561, lr=0.001368, time_each_step=1.53s, eta=1:27:23
    2021-08-12 16:26:43 [INFO]	[TRAIN] Epoch=24/200, Step=10/18, loss=8.28776, lr=0.001375, time_each_step=1.51s, eta=1:27:19
    2021-08-12 16:26:45 [INFO]	[TRAIN] Epoch=24/200, Step=12/18, loss=8.561993, lr=0.001381, time_each_step=1.5s, eta=1:27:16
    2021-08-12 16:26:48 [INFO]	[TRAIN] Epoch=24/200, Step=14/18, loss=6.833448, lr=0.001388, time_each_step=1.54s, eta=1:27:14
    2021-08-12 16:26:50 [INFO]	[TRAIN] Epoch=24/200, Step=16/18, loss=7.201269, lr=0.001394, time_each_step=1.49s, eta=1:27:10
    2021-08-12 16:26:53 [INFO]	[TRAIN] Epoch=24/200, Step=18/18, loss=8.122201, lr=0.001401, time_each_step=1.5s, eta=1:27:7
    2021-08-12 16:26:53 [INFO]	[TRAIN] Epoch 24 finished, loss=7.577332, lr=0.001373 .
    2021-08-12 16:26:59 [INFO]	[TRAIN] Epoch=25/200, Step=2/18, loss=7.931805, lr=0.001407, time_each_step=1.67s, eta=1:21:14
    2021-08-12 16:27:02 [INFO]	[TRAIN] Epoch=25/200, Step=4/18, loss=7.386684, lr=0.001414, time_each_step=1.45s, eta=1:21:8
    2021-08-12 16:27:04 [INFO]	[TRAIN] Epoch=25/200, Step=6/18, loss=8.094156, lr=0.00142, time_each_step=1.46s, eta=1:21:5
    2021-08-12 16:27:07 [INFO]	[TRAIN] Epoch=25/200, Step=8/18, loss=7.448998, lr=0.001427, time_each_step=1.44s, eta=1:21:2
    2021-08-12 16:27:09 [INFO]	[TRAIN] Epoch=25/200, Step=10/18, loss=6.763598, lr=0.001433, time_each_step=1.44s, eta=1:20:59
    2021-08-12 16:27:12 [INFO]	[TRAIN] Epoch=25/200, Step=12/18, loss=6.655269, lr=0.00144, time_each_step=1.42s, eta=1:20:56
    2021-08-12 16:27:14 [INFO]	[TRAIN] Epoch=25/200, Step=14/18, loss=8.237397, lr=0.001446, time_each_step=1.41s, eta=1:20:53
    2021-08-12 16:27:16 [INFO]	[TRAIN] Epoch=25/200, Step=16/18, loss=8.610207, lr=0.001453, time_each_step=1.4s, eta=1:20:50
    2021-08-12 16:27:19 [INFO]	[TRAIN] Epoch=25/200, Step=18/18, loss=7.041513, lr=0.001459, time_each_step=1.41s, eta=1:20:47
    2021-08-12 16:27:19 [INFO]	[TRAIN] Epoch 25 finished, loss=7.620894, lr=0.001432 .
    2021-08-12 16:27:23 [INFO]	[TRAIN] Epoch=26/200, Step=2/18, loss=8.512172, lr=0.001466, time_each_step=1.5s, eta=1:15:50
    2021-08-12 16:27:26 [INFO]	[TRAIN] Epoch=26/200, Step=4/18, loss=7.2425, lr=0.001472, time_each_step=1.34s, eta=1:15:45
    2021-08-12 16:27:28 [INFO]	[TRAIN] Epoch=26/200, Step=6/18, loss=7.851016, lr=0.001479, time_each_step=1.32s, eta=1:15:42
    2021-08-12 16:27:31 [INFO]	[TRAIN] Epoch=26/200, Step=8/18, loss=6.742088, lr=0.001485, time_each_step=1.34s, eta=1:15:40
    2021-08-12 16:27:34 [INFO]	[TRAIN] Epoch=26/200, Step=10/18, loss=6.354107, lr=0.001492, time_each_step=1.35s, eta=1:15:37
    2021-08-12 16:27:36 [INFO]	[TRAIN] Epoch=26/200, Step=12/18, loss=7.45445, lr=0.001498, time_each_step=1.35s, eta=1:15:34
    2021-08-12 16:27:39 [INFO]	[TRAIN] Epoch=26/200, Step=14/18, loss=7.422086, lr=0.001505, time_each_step=1.37s, eta=1:15:32
    2021-08-12 16:27:41 [INFO]	[TRAIN] Epoch=26/200, Step=16/18, loss=6.502593, lr=0.001511, time_each_step=1.37s, eta=1:15:29
    2021-08-12 16:27:44 [INFO]	[TRAIN] Epoch=26/200, Step=18/18, loss=7.414, lr=0.001518, time_each_step=1.36s, eta=1:15:26
    2021-08-12 16:27:44 [INFO]	[TRAIN] Epoch 26 finished, loss=7.25876, lr=0.00149 .
    2021-08-12 16:27:52 [INFO]	[TRAIN] Epoch=27/200, Step=2/18, loss=7.498363, lr=0.001524, time_each_step=1.67s, eta=1:14:6
    2021-08-12 16:27:54 [INFO]	[TRAIN] Epoch=27/200, Step=4/18, loss=6.660418, lr=0.001531, time_each_step=1.56s, eta=1:14:1
    2021-08-12 16:27:57 [INFO]	[TRAIN] Epoch=27/200, Step=6/18, loss=6.369621, lr=0.001537, time_each_step=1.54s, eta=1:13:57
    2021-08-12 16:27:59 [INFO]	[TRAIN] Epoch=27/200, Step=8/18, loss=7.505765, lr=0.001544, time_each_step=1.54s, eta=1:13:54
    2021-08-12 16:28:01 [INFO]	[TRAIN] Epoch=27/200, Step=10/18, loss=8.224966, lr=0.00155, time_each_step=1.5s, eta=1:13:51
    2021-08-12 16:28:04 [INFO]	[TRAIN] Epoch=27/200, Step=12/18, loss=6.217716, lr=0.001557, time_each_step=1.49s, eta=1:13:48
    2021-08-12 16:28:06 [INFO]	[TRAIN] Epoch=27/200, Step=14/18, loss=7.055837, lr=0.001563, time_each_step=1.51s, eta=1:13:45
    2021-08-12 16:28:09 [INFO]	[TRAIN] Epoch=27/200, Step=16/18, loss=6.175403, lr=0.00157, time_each_step=1.47s, eta=1:13:42
    2021-08-12 16:28:11 [INFO]	[TRAIN] Epoch=27/200, Step=18/18, loss=8.108494, lr=0.001576, time_each_step=1.5s, eta=1:13:39
    2021-08-12 16:28:12 [INFO]	[TRAIN] Epoch 27 finished, loss=7.139297, lr=0.001549 .
    2021-08-12 16:28:18 [INFO]	[TRAIN] Epoch=28/200, Step=2/18, loss=6.739659, lr=0.001583, time_each_step=1.67s, eta=1:21:50
    2021-08-12 16:28:19 [INFO]	[TRAIN] Epoch=28/200, Step=4/18, loss=7.085263, lr=0.001589, time_each_step=1.34s, eta=1:21:42
    2021-08-12 16:28:23 [INFO]	[TRAIN] Epoch=28/200, Step=6/18, loss=7.754398, lr=0.001596, time_each_step=1.4s, eta=1:21:40
    2021-08-12 16:28:26 [INFO]	[TRAIN] Epoch=28/200, Step=8/18, loss=7.139985, lr=0.001602, time_each_step=1.43s, eta=1:21:37
    2021-08-12 16:28:28 [INFO]	[TRAIN] Epoch=28/200, Step=10/18, loss=7.754786, lr=0.001609, time_each_step=1.42s, eta=1:21:34
    2021-08-12 16:28:31 [INFO]	[TRAIN] Epoch=28/200, Step=12/18, loss=7.177523, lr=0.001615, time_each_step=1.45s, eta=1:21:32
    2021-08-12 16:28:33 [INFO]	[TRAIN] Epoch=28/200, Step=14/18, loss=6.571127, lr=0.001622, time_each_step=1.43s, eta=1:21:29
    2021-08-12 16:28:35 [INFO]	[TRAIN] Epoch=28/200, Step=16/18, loss=5.982226, lr=0.001628, time_each_step=1.41s, eta=1:21:26
    2021-08-12 16:28:38 [INFO]	[TRAIN] Epoch=28/200, Step=18/18, loss=6.375096, lr=0.001635, time_each_step=1.44s, eta=1:21:23
    2021-08-12 16:28:38 [INFO]	[TRAIN] Epoch 28 finished, loss=6.983438, lr=0.001607 .
    2021-08-12 16:28:46 [INFO]	[TRAIN] Epoch=29/200, Step=2/18, loss=7.870534, lr=0.001641, time_each_step=1.71s, eta=1:17:0
    2021-08-12 16:28:48 [INFO]	[TRAIN] Epoch=29/200, Step=4/18, loss=6.818738, lr=0.001648, time_each_step=1.5s, eta=1:16:54
    2021-08-12 16:28:51 [INFO]	[TRAIN] Epoch=29/200, Step=6/18, loss=7.129644, lr=0.001654, time_each_step=1.55s, eta=1:16:51
    2021-08-12 16:28:54 [INFO]	[TRAIN] Epoch=29/200, Step=8/18, loss=6.830897, lr=0.001661, time_each_step=1.54s, eta=1:16:48
    2021-08-12 16:28:56 [INFO]	[TRAIN] Epoch=29/200, Step=10/18, loss=8.199747, lr=0.001667, time_each_step=1.48s, eta=1:16:45
    2021-08-12 16:28:58 [INFO]	[TRAIN] Epoch=29/200, Step=12/18, loss=5.51335, lr=0.001674, time_each_step=1.49s, eta=1:16:42
    2021-08-12 16:29:01 [INFO]	[TRAIN] Epoch=29/200, Step=14/18, loss=7.061138, lr=0.00168, time_each_step=1.5s, eta=1:16:39
    2021-08-12 16:29:03 [INFO]	[TRAIN] Epoch=29/200, Step=16/18, loss=6.866416, lr=0.001687, time_each_step=1.5s, eta=1:16:36
    2021-08-12 16:29:06 [INFO]	[TRAIN] Epoch=29/200, Step=18/18, loss=7.508191, lr=0.001693, time_each_step=1.53s, eta=1:16:33
    2021-08-12 16:29:06 [INFO]	[TRAIN] Epoch 29 finished, loss=6.978635, lr=0.001666 .
    2021-08-12 16:29:14 [INFO]	[TRAIN] Epoch=30/200, Step=2/18, loss=6.923085, lr=0.0017, time_each_step=1.78s, eta=1:19:57
    2021-08-12 16:29:17 [INFO]	[TRAIN] Epoch=30/200, Step=4/18, loss=6.879886, lr=0.001706, time_each_step=1.53s, eta=1:19:50
    2021-08-12 16:29:19 [INFO]	[TRAIN] Epoch=30/200, Step=6/18, loss=6.332309, lr=0.001713, time_each_step=1.53s, eta=1:19:47
    2021-08-12 16:29:21 [INFO]	[TRAIN] Epoch=30/200, Step=8/18, loss=6.33001, lr=0.001719, time_each_step=1.52s, eta=1:19:44
    2021-08-12 16:29:24 [INFO]	[TRAIN] Epoch=30/200, Step=10/18, loss=7.628979, lr=0.001726, time_each_step=1.51s, eta=1:19:41
    2021-08-12 16:29:27 [INFO]	[TRAIN] Epoch=30/200, Step=12/18, loss=6.029836, lr=0.001732, time_each_step=1.54s, eta=1:19:38
    2021-08-12 16:29:29 [INFO]	[TRAIN] Epoch=30/200, Step=14/18, loss=6.849374, lr=0.001739, time_each_step=1.53s, eta=1:19:35
    2021-08-12 16:29:31 [INFO]	[TRAIN] Epoch=30/200, Step=16/18, loss=5.921936, lr=0.001745, time_each_step=1.52s, eta=1:19:32
    2021-08-12 16:29:34 [INFO]	[TRAIN] Epoch=30/200, Step=18/18, loss=6.577891, lr=0.001752, time_each_step=1.54s, eta=1:19:29
    2021-08-12 16:29:34 [INFO]	[TRAIN] Epoch 30 finished, loss=6.791932, lr=0.001724 .
    2021-08-12 16:29:43 [INFO]	[TRAIN] Epoch=31/200, Step=2/18, loss=7.066791, lr=0.001758, time_each_step=1.85s, eta=1:21:29
    2021-08-12 16:29:45 [INFO]	[TRAIN] Epoch=31/200, Step=4/18, loss=7.278647, lr=0.001765, time_each_step=1.56s, eta=1:21:21
    2021-08-12 16:29:47 [INFO]	[TRAIN] Epoch=31/200, Step=6/18, loss=5.887259, lr=0.001771, time_each_step=1.52s, eta=1:21:17
    2021-08-12 16:29:50 [INFO]	[TRAIN] Epoch=31/200, Step=8/18, loss=7.161286, lr=0.001778, time_each_step=1.58s, eta=1:21:15
    2021-08-12 16:29:53 [INFO]	[TRAIN] Epoch=31/200, Step=10/18, loss=7.275445, lr=0.001784, time_each_step=1.6s, eta=1:21:12
    2021-08-12 16:29:55 [INFO]	[TRAIN] Epoch=31/200, Step=12/18, loss=6.67583, lr=0.001791, time_each_step=1.56s, eta=1:21:9
    2021-08-12 16:29:58 [INFO]	[TRAIN] Epoch=31/200, Step=14/18, loss=6.88801, lr=0.001797, time_each_step=1.58s, eta=1:21:6
    2021-08-12 16:30:01 [INFO]	[TRAIN] Epoch=31/200, Step=16/18, loss=6.840754, lr=0.001804, time_each_step=1.59s, eta=1:21:2
    2021-08-12 16:30:03 [INFO]	[TRAIN] Epoch=31/200, Step=18/18, loss=8.118232, lr=0.00181, time_each_step=1.56s, eta=1:20:59
    2021-08-12 16:30:03 [INFO]	[TRAIN] Epoch 31 finished, loss=6.991891, lr=0.001783 .
    2021-08-12 16:30:13 [INFO]	[TRAIN] Epoch=32/200, Step=2/18, loss=6.560344, lr=0.001817, time_each_step=1.91s, eta=1:21:38
    2021-08-12 16:30:15 [INFO]	[TRAIN] Epoch=32/200, Step=4/18, loss=8.216463, lr=0.001823, time_each_step=1.62s, eta=1:21:30
    2021-08-12 16:30:18 [INFO]	[TRAIN] Epoch=32/200, Step=6/18, loss=5.897555, lr=0.00183, time_each_step=1.61s, eta=1:21:27
    2021-08-12 16:30:20 [INFO]	[TRAIN] Epoch=32/200, Step=8/18, loss=6.27569, lr=0.001836, time_each_step=1.62s, eta=1:21:24
    2021-08-12 16:30:22 [INFO]	[TRAIN] Epoch=32/200, Step=10/18, loss=5.807457, lr=0.001843, time_each_step=1.58s, eta=1:21:20
    2021-08-12 16:30:24 [INFO]	[TRAIN] Epoch=32/200, Step=12/18, loss=6.828732, lr=0.001849, time_each_step=1.57s, eta=1:21:17



```python
#åœ¨test_datesetä¸Šé€‰ä¸€å¼ å›¾ç‰‡è¿›è¡Œinfer
import paddlex as pdx
model = pdx.load_model('output/yolov3_mobilenetv1/best_model')
image_name = 'objDataset/barricade/JPEGImages/train_250.jpg'
result = model.predict(image_name)
pdx.det.visualize(image_name, result, threshold=0.5, save_dir='./output/yolov3_mobilenetv1/best_model')#å¯¹ç½®ä¿¡åº¦å¤§äº0.5çš„è¿›è¡Œå¯è§†åŒ–
```

    2021-08-12 16:53:08 [INFO]	Model[YOLOv3] loaded.
    2021-08-12 16:53:08 [INFO]	The visualized result is saved as ./output/yolov3_mobilenetv1/best_model/visualize_train_250.jpg


# äº”ã€ä½œä¸šæäº¤

å®Œæˆä»¥ä¸Šå››ä¸ªæ­¥éª¤ï¼Œå¹¶ä¸”è·‘é€šåï¼Œæ­å–œä½ ï¼ä½ å·²ç»å­¦ä¼šä½¿ç”¨PaddleXè®­ç»ƒç›®æ ‡æ£€æµ‹æ¨¡å‹äº†ï¼

é¦–å…ˆç‚¹å‡»å³ä¸Šæ–¹çš„â€œ**æ–‡ä»¶**â€ï¼Œç‚¹å‡»â€œ**å¯¼å‡ºNotebookä¸ºMarkdown**â€ï¼š
![](https://ai-studio-static-online.cdn.bcebos.com/0b502ce690274eee89c285c702a26a72ff012df791eb45b79b7866a97f549e33)

å¯¼å‡ºåçš„æ–‡ä»¶ç”¨äºä¸Šä¼ è‡³GitHubã€‚

ä¸‹é¢è¯·ç‚¹å‡»å·¦ä¾§â€œç‰ˆæœ¬â€ï¼Œåœ¨å‡ºç°çš„æ–°ç•Œé¢ä¸­ç‚¹å‡»â€œç”Ÿæˆæ–°ç‰ˆæœ¬â€ï¼ŒæŒ‰å¦‚ä¸‹æ“ä½œå³å¯ç”Ÿæˆç‰ˆæœ¬ï¼Œç”¨äºæäº¤ä½œä¸šï¼š
![](https://ai-studio-static-online.cdn.bcebos.com/4e58b131f2db45289119dfa90081eea43b781d6894254069b4f02cffa067ffe1)

ç”Ÿæˆç‰ˆæœ¬åï¼Œå›åˆ°é¡¹ç›®ä¸»é¡µï¼Œç‚¹å‡»â€œ**è®¾ç½®ä¸ºå…¬å¼€**â€ï¼š
![](https://ai-studio-static-online.cdn.bcebos.com/4a9229e9eb8146169c848327ccb1f85ea30af431eee14aea9c2e6c9aeb364926)



